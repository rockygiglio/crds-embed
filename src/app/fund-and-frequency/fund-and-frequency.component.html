<header class="page-header page-header--border-btm">
  <h2>Details:</h2>
</header>

<form [formGroup]="form">

  <div class="btn-group--underline" *ngIf="isFundSelectShown">
    <h3 class="btn-form__header">Give To:</h3>
    <div class="btn-group">
      <button *ngFor="let fund of funds"
              class="btn btn-option btn-option--mb-8"
              (click)="onClickFund(fund)"
              [ngClass]="{ active: (store.fund.ID === fund.ID) }">{{fund.Name}}</button>
    </div>
  </div>

  <div class="btn-group--underline">
    <h3 class="btn-form__header">Frequency:</h3>
    <div class="btn-group">
      <button *ngFor="let frequency of store.frequencies"
              class="btn btn-option btn-option--mb-8"
              (click)="onClickFrequency(frequency)"
              [ngClass]="{ active: (store.frequency.value == frequency.value),
                          disabled: (!store.fund.AllowRecurringGiving && frequency.recurring === true) }">
        {{frequency.display}}
      </button>
    </div>
  </div>
</form>

<div *ngIf="store.isRecurringGift()" class="btn-group--underline">
  <h3 class="btn-form__header">Starts On:</h3>
  <form class="form-group">
    <label for="recurring_date" class="sr-only">Set recurring date</label>
    <div class="input-group" (click)="toggleDatePicker(true)">
      <input *ngIf="store.startDate"
        id="recurring_date"
        class="form-control"
        name="recurring_date"
        type="text"
        value="{{ store.startDate.getTime() | date: 'MM/d/yyyy' }}"
        required="required"
        readonly>
      <div class="input-group-addon">
        <i class="fa fa-calendar" aria-hidden="true"></i>
      </div>
    </div>
  </form>

  <datepicker
    [ngClass]="{ visible: showDatePicker }"
    [(ngModel)]="selectedDate"
    (ngModelChange)="updateStartDate($event);"
    [minDate]="minDate"
    [maxDate]="maxDate"
    [showWeeks]="false">
  </datepicker>
</div>

<footer class="page-footer">
  <input type="button" class="btn btn-previous pull-left" (click)="back()" value="Back">
  <input type="button"
    class="btn btn-next pull-right"
    (click)="submitFrequency()"
    [disabled]="!form.valid || store.isRecurringGiftWithNoStartDate()"
    value="Next">
</footer>
